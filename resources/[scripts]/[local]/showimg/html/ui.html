<!DOCTYPE html>
<html>

<head>
  <title></title>
  <meta charset="utf-8">
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: transparent;
    }

    img {
      width: 100vw;
      height: 100vh;
      display: none;
    }
  </style>
</head>

<body>
  <img id="imgview" src="">
  <script src="nui://game/ui/jquery.js" type="text/javascript"></script>
  <script>
    var setT = null
    $(function () {
      window.addEventListener('message', function (event) {
        console.log(JSON.stringify(event.data))
        if (event.data.action == "show" && event.data.url && event.data.time && event.data.alpha) {
          $('#imgview').attr('src', event.data.url)
          $('#imgview').css({ 'opacity': parseInt(event.data.alpha) / 100 })
          $('#imgview').show()
          if (setT != null) {
            clearTimeout(setT)
          }
          setT = setTimeout(function () {
            $('#imgview').hide()
          }, parseInt(event.data.time) * 1000)
        }
        else if (event.data.action == "hide") {
          $('#imgview').hide()
        }
      });
    });
  </script>
</body>

</html>